{"meta":{"title":"Blog","subtitle":"","description":"","author":"zsl","url":"http://example.com","root":"/"},"pages":[{"title":"tags","date":"2025-12-23T11:17:06.522Z","updated":"2025-12-23T11:17:06.518Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2025-12-23T11:17:15.005Z","updated":"2025-12-23T11:17:15.001Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"定时器计数器T1动画演示","slug":"定时器计数器T1","date":"2025-12-23T13:38:00.992Z","updated":"2025-12-23T13:39:17.017Z","comments":true,"path":"单片机/定时器计数器T1/","permalink":"http://example.com/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%AE%9A%E6%97%B6%E5%99%A8%E8%AE%A1%E6%95%B0%E5%99%A8T1/","excerpt":"","text":"TEST TEST ⤢ 在新窗口全屏查看演示","categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"}],"tags":[{"name":"动画","slug":"动画","permalink":"http://example.com/tags/%E5%8A%A8%E7%94%BB/"}]},{"title":"定时器计数器T0动画演示","slug":"定时器计数器T0","date":"2025-12-23T13:37:11.119Z","updated":"2025-12-23T13:38:00.992Z","comments":true,"path":"单片机/定时器计数器T0/","permalink":"http://example.com/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%AE%9A%E6%97%B6%E5%99%A8%E8%AE%A1%E6%95%B0%E5%99%A8T0/","excerpt":"","text":"TEST TEST ⤢ 在新窗口全屏查看演示","categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"}],"tags":[{"name":"动画","slug":"动画","permalink":"http://example.com/tags/%E5%8A%A8%E7%94%BB/"}]},{"title":"外部中断动画演示","slug":"外部中断","date":"2025-12-23T13:34:32.658Z","updated":"2025-12-23T14:13:21.018Z","comments":true,"path":"单片机/外部中断/","permalink":"http://example.com/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%A4%96%E9%83%A8%E4%B8%AD%E6%96%AD/","excerpt":"","text":"TEST TEST ⤢ 在新窗口全屏查看演示","categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"}],"tags":[{"name":"动画","slug":"动画","permalink":"http://example.com/tags/%E5%8A%A8%E7%94%BB/"}]},{"title":"单片机程序复习","slug":"单片机复习","date":"2025-12-23T13:34:32.658Z","updated":"2025-12-23T14:05:21.911Z","comments":true,"path":"单片机/单片机复习/","permalink":"http://example.com/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%8D%95%E7%89%87%E6%9C%BA%E5%A4%8D%E4%B9%A0/","excerpt":"","text":"LED控制（外部中断、定时器）方法1：外部中断控制亮灭、流水点亮、交替点亮 1234567891011121314151617181920212223#include&lt;reg52.h&gt;/* P32按键下降沿触发中断后，led以1s频率进行闪烁；*/bit mode;void main( )&#123; EA=1; //开启总中断 EX0=1; //使能INT0中断 IT0=1; // 设置INT0为下降沿触发 while(1)&#123; if（mode）&#123; P1=～P1; Delay500ms(); //改方法可通过STC-IAP软件生成 &#125; else&#123; P1=0; &#125; &#125;&#125; void int0( ) interrupt 0 &#123; //外部中断0：接P3.2 mode=～mode &#125; 方法2：定时器中断控制LED的控制：闪烁 定时器中断控制60ms：N&#x3D;65536-60ms&#x2F;1us&#x3D; 5536 12345678910111213141516171819202122232425262728#include&lt;reg52.h&gt;/* 初始状态：Green_LED亮，Red_LED灭； P32按键下降沿触发中断后，Green_LED灭，Red_LED以120ms频率闪烁；/*#define Green_LED P1^1;#define RED_LED P1^2;void main() &#123; TMOD=0x01; // 定时器T0，方式1，16位定时器 TH0 = (65536 - 60000) / 256; //重新装载初值，实现60毫秒定时 TL0 = (65536 - 60000) % 256; Green_LED =0; //初始绿色LED亮 Red_LED = 1; //红色LED灭 IT0 = 1; // 设置INT0为下降沿触发 EX0 = 1; // 使能INT0中断 EA = 1; // 开启总中断 while(1)；&#125;void INT0_ISR() interrupt 0 &#123; //外部中断0：接P3.2 Green_LED = 0; // 关闭绿色LED TR0 = 1; ET0 = 1;&#125;void Timer0_ISR() interrupt 1 &#123; TH0 = (65536 - 60000) / 256; //重新装载初值，实现60毫秒定时 TL0 = (65536 - 60000) % 256; Red_LED =~Red_LED; &#125; 数码管显示（定时器）数码管动态显示显示年月日，显示格式“yy-mm-dd” 思考：实时显示每天的日期，该怎么办？ DS1302时钟功能 123456789101112131415161718192021222324252627282930313233#define U8 unsigned charU8 code tab_seg[]=&#123;0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0xbf,0xff&#125;;U8 disp_buffer[8]=&#123;11,11,11,11,11,11,11,11&#125;;//显示缓存，修改为显示的内容void dig_disp(void)&#123; static u8 dspcom=0; P0 = 0xff; //段码 P2 = 0x01 &lt;&lt; dspcom ; // 位码 P0 = tab_seg[disp_buffer[dspcom]]; if(++dspcom == 8) dspcom = 0;&#125;void main(void)&#123; TMOD =0x01; TL0 = 64536%256; TH0 = 64536/256; TR0 = 1; ET0 = 1; EA = 1; while(1) &#123; disp_buffer[0]=year/10; disp_buffer[1]=year%10; disp_buffer[2]=10; // “-” disp_buffer[3]=month/10; disp_buffer[4]=month%10; disp_buffer[5]=10; disp_buffer[6]=day/10; disp_buffer[7]=day%10; &#125;&#125;void isr_timer_0(void) interrupt 1 &#123; TL0 = 64536%256; TH0 = 64536/256; // 1ms刷新一次 dig_disp(); &#125; 串口通信（串口中断）1.直接发送字符假设单片机晶振为11.0592MHz，要求配置串口为模式1，波特率为4800。请编写程序：从串口接收一个大写字母将该字母转换成小写字母后，通过串口发送回去。 注意点： 1.定时器配置：使用定时器T1，方式2自动充装重装 2.如何根据波特率怎么计算定时器初值？波特率为9600初值怎么计算 1234567891011121314151617181920212223main( )&#123; TMOD=0x20; TH1=250; TL1=250; SCON=0x50; PCON=0; EA=1； ES=1； TR1=1； While(1);&#125;void s_Re() interrupt 4&#123; If(RI==1) &#123; unsigned char temp; RI=0; temp=SBUF; temp=temp+32; SBUF=temp; &#125;&#125; 2.发送数值，需要转换成字符已知整数转字符串函数void int_to_string(unsigned int num, unsigned char *str) 123456789101112131415161718192021222324void main(void) &#123; unsigned int value; unsigned char adc_str[6]; SCON = 0x50; // 串口工作方式1，8位UART，允许接收 TMOD |= 0x20; // 定时器1工作方式2，8位自动重装 TH1 = 250; // 波特率4800 (11.0592MHz晶振) TL1 = 250; TR1 = 1; // 启动定时器1 while(1) &#123; value = read_t(); // 例如温度 int_to_string(value, t_str); uart_send_string(t_str); &#125;&#125;void uart_send_string(unsigned char *str) &#123; while(*str != &#x27;\\0&#x27;) &#123; SBUF = *str; // 数据送入发送缓冲区 while(TI == 0); // 等待发送完成 TI = 0; // 清除发送中断标志 str++; &#125;&#125; 串行扩展（I2C）I2C：AT24C02，注意I2C通信细节 write a Byte. 1234567891011121314151617/**@brief 向AT24C02(add)中写入数据val* @param[in] add - AT24C02存储地址* @param[in] val - 待写入AT24C02相应地址的数据* @return - none*/void write_eeprom(unsigned char add,unsigned char val)&#123; EA = 0; // 操作流程： I2CStart(); // (1)发送起始条件 I2CSendByte(0xa0); // (2)发送i2c设备地址：0xa0 I2CWaitAck(); // (3)等待应答 I2CSendByte(add); // (4)发送存储单元地址add I2CWaitAck(); // (5)等待应答 I2CSendByte(val); // (6)发送数据val I2CWaitAck(); // (7)等待应答 I2CStop(); // (8)发送停止条件 EA = 1;&#125; read a Byte. 123456789101112131415161718192021/**@brief 从AT24C02(add)中读出数据da* @param[in] add - AT24C02存储地址* @param[out] da - 从AT24C02相应地址中读取到的数据* @return - da*/unsigned char read_eeprom(unsigned char add)&#123; unsigned char da; EA = 0; // 操作流程： I2CStart(); // (1)发送起始条件 I2CSendByte(0xa0); // (2)发送i2c设备地址：0xa0 I2CWaitAck(); // (3)等待应答 I2CSendByte(add); // (4)发送存储单元地址add I2CWaitAck(); // (5)等待应答 I2CStart(); // (6)发送起始条件 I2CSendByte(0xa1); // (7)发送i2c设备地址：0xa1 I2CWaitAck(); // (8)等待应答 da = I2CReceiveByte(); // (9)接收数据 I2CSendAck(0); // (10)发送应答 I2CStop(); // (11)发送停止条件 EA = 1; return da;&#125; 24C02的基本读写操作在CT107D单片机综合训练平台上，利用竞赛提供的IIC总线接口底层驱动代码，设计应用程序，实现下面功能： 系统开机后，读取0x01、0x03和0x05内存单元的数据，并从左至右显示在数码管上，数字之间用“-”分隔，例如“04-16-30”； 将0x01单元的数据加1后，写回该内存单元，加1后结果如大于10，恢复0； 将0x03单元的数据加1后，写回该内存单元，加1后结果如大于20，恢复0； 将0x05单元的数据加1后，写回该内存单元，加1后结果如大于30，恢复0。 注：两个函数的使用 1、往at24c02的0x05单元写入数据0x34 12void write_eeprom(unsigned char add,unsigned char val);write_eeprom(0x05,0x34); 2、读取at24c02的0x05单元中的数据 12unsigned char read_eeprom(unsigned char add);read_data=read_eeprom(0x05); 参考代码： 123456789101112131415161718192021222324void Read_Write() &#123; dat1 = Read_24C02(0x01); dat2 = Read_24C02(0x03); dat3 = Read_24C02(0x05); dat1 = dat1 + 1; dat2 = dat2 + 2; dat3 = dat3 + 3; if(dat1 &gt; 10) dat1 = 0; if(dat2 &gt; 20) dat2 = 0; if(dat3 &gt; 30) dat3 = 0; Write_24C02(0x01, dat1); Delay5ms(); Write_24C02(0x03, dat2); Delay5ms(); Write_24C02(0x05, dat3); Delay5ms();&#125; ADC&#x2F;DAC1.采用查询方式控制ADC0809进行A&#x2F;D转换1234567891011121314151617#define uchar unsigned char;sbit OE = P1^1;sbit ...void main(void)&#123; uchar temp; add_a=0;add_b=0;add_c=0; //选择ADC0809的通道0 while(1) &#123; start=1; while(1) &#123; while(EOC==0); //等待转换结束 OE=1; //允许输出 temp=out; //暂存转换结果 OE=0; //关闭输出 &#125; &#125;&#125; 2.采用中断方式读取ADC0809转换结果1234567891011121314151617181920#define uchar unsigned char;sbit OE = P1^1;sbit ...void main(void)&#123; uchar temp; add_a=0;add_b=0;add_c=0; //选择ADC0809的通道0 EA=1; EX0=1; IT0=1; start=1; while(1);&#125;void int0_adc() interrupt 0&#123; OE=1; //允许输出 temp=out; //暂存转换结果 P1=temp; OE=0; //关闭输出&#125;","categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"}],"tags":[]},{"title":"流水灯动画演示","slug":"流水灯","date":"2025-12-23T13:28:43.831Z","updated":"2025-12-23T13:34:32.658Z","comments":true,"path":"单片机/流水灯/","permalink":"http://example.com/%E5%8D%95%E7%89%87%E6%9C%BA/%E6%B5%81%E6%B0%B4%E7%81%AF/","excerpt":"","text":"TEST TEST ⤢ 在新窗口全屏查看演示","categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"}],"tags":[{"name":"动画","slug":"动画","permalink":"http://example.com/tags/%E5%8A%A8%E7%94%BB/"}]},{"title":"hexo搭建个人Blog","slug":"hello-world","date":"2018-01-04T16:00:00.000Z","updated":"2025-12-25T10:05:55.598Z","comments":true,"path":"技术/hello-world/","permalink":"http://example.com/%E6%8A%80%E6%9C%AF/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"技术","slug":"技术","permalink":"http://example.com/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]}],"categories":[{"name":"单片机","slug":"单片机","permalink":"http://example.com/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"},{"name":"技术","slug":"技术","permalink":"http://example.com/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"动画","slug":"动画","permalink":"http://example.com/tags/%E5%8A%A8%E7%94%BB/"},{"name":"hexo","slug":"hexo","permalink":"http://example.com/tags/hexo/"}]}